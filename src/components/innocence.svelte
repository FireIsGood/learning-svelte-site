<script lang="ts">
  const possibleSins: Array<string> = [
    "been on a date ğŸ’•",
    "been in a relationship ğŸ¥°",
    "kissed a mps (member of the preferred sex) ğŸ˜˜",
    "made out in public ğŸ˜",
    "played a game involved stripping ğŸ©²",
    "masturbated ğŸ˜ˆ",
    "sent or received underwear pics ğŸ‘™",
    "sent nudes ğŸš«",
    "received nudes âŒ",
    "sexted ğŸ“²",
    "facetime sex ğŸ¤³",
    "kissed 3 or more people in one night. ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦",
    "FwB ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ½",
    "been in love ğŸ’–",
    "had a dating app ğŸ”¥",
    "paid for a premium version of a dating app ğŸ’¸",
    "long distance relationship ğŸ›«",
    "asked for a strangerâ€™s contact info #ï¸âƒ£",
    "been asked for your contact info by a stranger ğŸ‘»",
    "gotten back with/hooked up with an ex â",
    "slid into someoneâ€™s DMs ğŸ“³",
    "watched porn ğŸŸ§â¬›ï¸",
    "paid for any porn ğŸ¤‘",
    "watched porn with mps ğŸ¿",
    "talked to 5 or more people at once 5ï¸âƒ£",
    "posted a thirst trap ğŸ˜œ",
    "said â€œi love youâ€ ğŸ˜",
    "been to a party ğŸ‰",
    "thrown a party ğŸ¥³",
    "drank ğŸ¥‚",
    "been drunk ğŸ˜µ",
    "blacked or yakked ğŸ¥´",
    "played a drinking game ğŸ¥¤",
    "faked sobriety ğŸ¤¥",
    "flirted with a stranger to get a free drink ğŸ»",
    "taken alcohol from your parents ğŸ¥ƒ",
    "smoked weed ğŸƒ",
    "done edibles ğŸª",
    "hit a bong âš—ï¸",
    "nicotine (vaped) ğŸ’¨",
    "smoked a cigarette ğŸš¬",
    "cocaine or a drug stronger ğŸ’‰",
    "had a fake ğŸ†”",
    "had a fake ID confiscated ğŸ‘®â€â™‚ï¸",
    "used a fake to buy alcohol/drugs ğŸ’°",
    "used a fake to get into a bar/club ğŸ•º",
    "had the police called on you ğŸš”",
    "gotten in trouble with school or law ğŸ™",
    "showered with mps ğŸš¿",
    "given/received a hickey ğŸ’‹",
    "had/given blue balls ğŸ”µ",
    "someone else made you orgasm ğŸ¤¯",
    "cheated/been cheated on/been cheated with ğŸ¤®",
    "bought plan b ğŸ‘¼ğŸ¼",
    "bought birth control ğŸ’Š",
    "given head ğŸ§ ",
    "received head ğŸ‘„",
    "used a sex toy ğŸ§¸",
    "spent the night with mps ğŸ’¤",
    "been walked in on while engaging in a sexual act ğŸ˜³",
    "sexiled a roommate ğŸ‘‹ğŸ¼",
    "had sex ğŸ†",
    "had sex 3 or more times in one night. ğŸ˜",
    "STI/STD test ğŸ¦ ",
    "had car sex ğŸš˜",
    "had sex in public ğŸ“¢",
    "used blindfold/handcuffs in bed ğŸ¤­",
    "joined the mile high club ğŸ›«",
    "â“",
    "3some 3ï¸âƒ£",
    "orgy! ğŸ”¢",
    "body count > 5 ğŸ“ˆ",
    "sex tape. ğŸ¥",
    "anal ğŸ‘",
    "period sex ğŸ©¸",
    "bought a pregnancy test ğŸ“„",
    "been preggo/ gotten someone preggo ğŸ¤°",
    "streaked ğŸ‘€",
    "skinny dipped ğŸŒŠ",
    "seen a stripper ğŸ‘…",
    "run from the police ğŸ‘®",
    "been questioned by/handcuffed by police ğŸš¨",
    "committed vandalism ğŸ¨",
    "driven under the influence ğŸš™",
    "texted while driving ğŸ’¬",
    "gotten a tattoo ğŸ–‹ï¸",
    "pierced something other than your ears ğŸ‘ƒ",
    "stolen something ğŸ’²",
    "crashed a car ğŸ",
    "blocked someone on social media ğŸ‘ğŸ½",
    "gotten kicked out of a party ğŸ˜¡",
    "been at a party that got raided ğŸš’",
    "snuck out ğŸ˜°",
    "had corona! ğŸ˜·",
    "had a crush on a teacher ğŸ‘©â€ğŸ«",
    "stalked someoneâ€™s snapchat location ğŸ“",
    "gotten with 2+ people in the same friend group ğŸ‘ğŸ¼",
    "whole snap best friends list has been love interests ğŸ˜",
    "gotten with someone 3+ years older than you ğŸ‘µ",
    "gotten with someone 3+ years younger than you ğŸ‘¶",
  ];

  type Result = {
    floor: number;
    ceil: number;
    rating: string;
    remark: string;
  };

  const possibleResults: Array<Result> = [
    {
      floor: 0,
      ceil: 2,
      rating: "Angel",
      remark:
        "You're literally not real or 12. Did you just skip all the checkboxes to see what this would say? If this is actually you, you're probably ace or something idk. ",
    },
    {
      floor: 3,
      ceil: 6,
      rating: "Innocent",
      remark:
        "You're quite well behaved, I'd guess you haven't been in trouble at school before. You're more pure than most people pretend to be, and you should feel free to be proud of this if you so wish. There's not really much to say about you from just this number.",
    },
    {
      floor: 7,
      ceil: 33,
      rating: "Average Person",
      remark:
        "I would guess this is where the average person stands. You're probably fine as far as anyone else can see. I don't have much to say since this is one of the more likely scores. Anyways, how is your day?",
    },
    {
      floor: 34,
      ceil: 55,
      rating: "Rebelious",
      remark:
        "You've done quite a number of things, I would say I'm impressed if I were near your level. Honestly I have no idea how you're even doing all these things. I might not want to be your friend, although I'm not sure since I'm not aware of people's scores",
    },
    {
      floor: 56,
      ceil: 91,
      rating: "Impure",
      remark:
        "You are quite impure! Holy hell that's a lot of things. Are you sure you're still alive? Either way, please excuse me as I will be exiting immedietly to avoid getting stabbed.",
    },
    {
      floor: 92,
      ceil: 100,
      rating: "Embodiment of Pure Sin",
      remark:
        "You are pure evil. Well, at least by society's standards. I would probably not hang out with you since you likely have more than one felony. I willingly admit I am more than a little scared of you. Please do not break my kneecaps or stab either of my kidneys.",
    },
  ];

  let yourSins: Array<number> = [];

  let finishedInput: boolean = false;

  function calculateScore() {
    finishedInput = true;
  }
  function resetScore() {
    yourSins = [];
    finishedInput = false;
  }
</script>

<div class="container">
  {#if !finishedInput}
    <div class="sin-container">
      {#each possibleSins as sin, index}
        <div class="input-item">
          <input
            type="checkbox"
            name={sin}
            id={index.toString()}
            bind:group={yourSins}
            value={index}
          />
          <label for={index.toString()}>{index + 1}: {sin}</label>
        </div>
      {/each}
      <button class="calculate-button" on:click={calculateScore}>
        Calculate Score
      </button>
    </div>
  {:else}
    <div class="rating-container">
      {#each possibleResults as result}
        {#if result.floor <= yourSins.length && yourSins.length <= result.ceil}
          <p>Your Innocence:</p>
          <h2>{result.rating} ({100 - yourSins.length})</h2>
          <p>{result.remark}</p>
        {/if}
      {/each}
      <button class="reset-button" on:click={resetScore}>
        Calculate Score
      </button>
    </div>
  {/if}
</div>

<style lang="scss">
  // General Styles

  label,
  button[type="checkbox"] {
    cursor: pointer;
  }

  // Main styles

  .container {
    & > * + * {
      margin-top: 0.5rem;
    }
  }

  .sin-container {
    display: flex;
    flex-flow: column wrap;
    gap: 1rem;
    margin-inline: auto;

    > .input-item {
      position: relative;
      display: flex;

      > label {
        width: 100%;
      }
    }
  }
  .calculate-button,
  .reset-button {
    height: 3rem;
    width: 10rem;
    margin-inline: auto;
    margin-top: 2rem;
    margin-bottom: 10rem;
  }

  .rating-container {
    text-align: center;
    max-width: 35ch;
    margin-inline: auto;

    & > * + *:not(.reset-button) {
      margin-top: 0.5rem;
    }
  }
</style>
